"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function t(e,n,r){function a(i,s){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(o)return o(i,!0);throw new Error("Cannot find module '"+i+"'")}var u=n[i]={exports:{}};e[i][0].call(u.exports,function(t){var n=e[i][1][t];return a(n?n:t)},u,u.exports,t,e,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(t,e,n){!function(t,r){"function"==typeof define&&define.amd?define(r):"object"===("undefined"==typeof n?"undefined":_typeof(n))?e.exports=r():t.NProgress=r()}(this,function(){function t(t,e,n){return t<e?e:t>n?n:t}function e(t){return 100*(-1+t)}function n(t,n,r){var a;return a="translate3d"===u.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===u.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},a.transition="all "+n+"ms "+r,a}function r(t,e){var n="string"==typeof t?t:i(t);return n.indexOf(" "+e+" ")>=0}function a(t,e){var n=i(t),a=n+e;r(n,e)||(t.className=a.substring(1))}function o(t,e){var n,a=i(t);r(t,e)&&(n=a.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function i(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function s(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var c={};c.version="0.2.0";var u=c.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};c.configure=function(t){var e,n;for(e in t)n=t[e],void 0!==n&&t.hasOwnProperty(e)&&(u[e]=n);return this},c.status=null,c.set=function(e){var r=c.isStarted();e=t(e,u.minimum,1),c.status=1===e?null:e;var a=c.render(!r),o=a.querySelector(u.barSelector),i=u.speed,s=u.easing;return a.offsetWidth,l(function(t){""===u.positionUsing&&(u.positionUsing=c.getPositioningCSS()),f(o,n(e,i,s)),1===e?(f(a,{transition:"none",opacity:1}),a.offsetWidth,setTimeout(function(){f(a,{transition:"all "+i+"ms linear",opacity:0}),setTimeout(function(){c.remove(),t()},i)},i)):setTimeout(t,i)}),this},c.isStarted=function(){return"number"==typeof c.status},c.start=function(){c.status||c.set(0);var t=function e(){setTimeout(function(){c.status&&(c.trickle(),e())},u.trickleSpeed)};return u.trickle&&t(),this},c.done=function(t){return t||c.status?c.inc(.3+.5*Math.random()).set(1):this},c.inc=function(e){var n=c.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),c.set(n)):c.start()},c.trickle=function(){return c.inc(Math.random()*u.trickleRate)},function(){var t=0,e=0;c.promise=function(n){return n&&"resolved"!==n.state()?(0===e&&c.start(),t++,e++,n.always(function(){e--,0===e?(t=0,c.done()):c.set((t-e)/t)}),this):this}}(),c.render=function(t){if(c.isRendered())return document.getElementById("nprogress");a(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=u.template;var r,o=n.querySelector(u.barSelector),i=t?"-100":e(c.status||0),l=document.querySelector(u.parent);return f(o,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),u.showSpinner||(r=n.querySelector(u.spinnerSelector),r&&s(r)),l!=document.body&&a(l,"nprogress-custom-parent"),l.appendChild(n),n},c.remove=function(){o(document.documentElement,"nprogress-busy"),o(document.querySelector(u.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&s(t)},c.isRendered=function(){return!!document.getElementById("nprogress")},c.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var l=function(){function t(){var n=e.shift();n&&n(t)}var e=[];return function(n){e.push(n),1==e.length&&t()}}(),f=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var n,r=a.length,o=t.charAt(0).toUpperCase()+t.slice(1);r--;)if(n=a[r]+o,n in e)return n;return t}function n(n){return n=t(n),o[n]||(o[n]=e(n))}function r(t,e,r){e=n(e),t.style[e]=r}var a=["Webkit","O","Moz","ms"],o={};return function(t,e){var n,a,o=arguments;if(2==o.length)for(n in e)a=e[n],void 0!==a&&e.hasOwnProperty(n)&&r(t,n,a);else r(t,o[1],o[2])}}();return c})},{}],2:[function(t,e,n){var r=t("nprogress");$(function(){var t=$("[data-search]").attr("data-action");$("#tags").selectable({items:".card",multiple:!0,change:function(t){var e=$(this).selectable("getElements");$("[data-open], [data-edit]").prop("disabled",1!==t.length),$("[data-delete]").prop("disabled",0===t.length),$("#tags").prop("hidden",0===e.length),$("#empty").prop("hidden",0!==e.length)},doubleClick:function(t,e){var n=$(e).attr("data-edit-action");n&&(location.href=$(e).attr("data-edit-action"))}}).selectable("change"),$("main").on("click",function(t){$(t.target).parents().addBack().is(".card")||$("#tags").selectable("selectNone")});var e="",n=void 0,a=void 0;$("[data-search]").on("change keyup paste",function(){var r=this.value,o=$("#tags").selectable("value");clearTimeout(n),r!==e&&(n=setTimeout(function(){a&&a.abort(),a=$.ajax({url:t,type:"GET",data:{search:r,render:"tagCards"}}).done(function(t){a=null,e=r,t.html&&$("#tags").html(t.html).selectable("value",o)})},300))}),$("[data-open]").on("click",function(){var t=$("#tags").selectable("getElements",!0)[0].getAttribute("data-open-action");t&&(location.href=t)}),$("[data-edit]").on("click",function(){var t=$("#tags").selectable("getElements",!0)[0].getAttribute("data-edit-action");t&&(location.href=t)}),$("[data-delete]").on("click",function(){var t=$("#tags").selectable("getElements",!0),e=$(this).attr("data-confirm"),n=t.length,a=0;$.alertable.confirm(e).then(function(){r.start(),$.each(t,function(t,e){var o=$(e).attr("data-value"),i=$(e).attr("data-delete-action");$.ajax({url:i,type:"DELETE"}).done(function(){var t=$("#tags").selectable("getElements",o);$(t).parent().animateCSS("fadeOut",300,function(){$(this).remove(),$("#tags").selectable("change")})}).always(function(){return r.set(++a/n)})})})})})},{nprogress:1}]},{},[2]);